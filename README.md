# Codeforces Parser

### Проблема

На сайте codeforces есть большая подборка задач. Требуется формировать для каждого пользователя персонализированный контест, задачи в которых не повторяются ни у кого.

### Решение

Данный проект решает проблему получения персонализированных контестов.
В нем реализован бот телеграм, основной задачей которого является составления списка из 10 задач по заданным темам и сложности.

### Установка

Для установки требуется выполнить следующую команду:
 ```git clone https://github.com/TakuroBreath/codeforces_parser.git```

После клонирования репозитория на свое устройство, требуется отредактировать файл .env.sample, заполнив данные по образцу внутри и переименовав в .env
Таким образом представится возможным подключение к базе данных, боту и брокеру redis.

Установите зависимости:
 ```pip install requirements.txt```

Выполните команду для подготовки Базы Данных
 ```python preparation.py```

### Начало работы

Для начала работы требуется запустить периодическую задачу, которая каждый час отправляет запрос к API и обновляет данные в таблице `tasks`
Перед этим необходимо запустить брокер задач Redis. После этого запускаем celery.

Для UNIX систем:
   Запуск воркера
   ```celery -A tasks worker --loglevel=info```

   Запуск периодической задачи
   ```celery -A tasks beat --loglevel=info```

Для Windows `Redis` необходимо запускать в среде `WSL`, а после запустить celery.
   Запуск воркера
   ```celery -A tasks worker -P eventlet -l info```

   Запуск периодической задачи
   ```celery -A tasks beat --loglevel=info```



Можно запускать программу.
   ```python main.py```